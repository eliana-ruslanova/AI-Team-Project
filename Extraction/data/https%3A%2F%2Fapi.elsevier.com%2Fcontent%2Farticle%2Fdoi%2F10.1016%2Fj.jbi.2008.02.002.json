{"scopus-eid": "2-s2.0-44449179949", "originalText": "serial JL 272371 291210 291682 291870 291901 31 80 Journal of Biomedical Informatics JOURNALBIOMEDICALINFORMATICS 2008-02-21 2008-02-21 2010-10-07T15:33:45 1-s2.0-S1532046408000221 S1532-0464(08)00022-1 S1532046408000221 10.1016/j.jbi.2008.02.002 S300 S300.1 FULL-TEXT 1-s2.0-S1532046408X00048 2015-05-15T06:30:58.184067-04:00 0 0 20080601 20080630 2008 2008-02-21T00:00:00Z articleinfo crossmark dco dateupdated tomb dateloaded datesearch indexeddate issuelist volumelist yearnav articletitlenorm authfirstinitialnorm authfirstsurnamenorm cid cids confeditor contenttype copyright dateloadedtxt docsubtype doctype doi eid ewtransactionid hubeid issfirst issn issnnorm itemstage itemtransactionid itemweight oauserlicense openaccess openarchive pg pgfirst pglast pii piinorm pubdateend pubdatestart pubdatetxt pubyr sectiontitle sortorder srctitle srctitlenorm srctype subheadings vol volfirst volissue webpdf webpdfpagecount figure body acknowledge affil articletitle auth auth authfirstini authfull authkeywords authlast primabst ref alllist content oa subj ssids 1532-0464 15320464 41 41 3 3 Volume 41, Issue 3 8 461 468 461 468 200806 June 2008 2008-06-01 2008-06-30 2008 Computerized Decision Support for Critical and Emergency Care Tze Yun Leong a Dominik Aronsky b M. Michael Shabot c a Department of Computer Science, School of Computing, National University of Singapore, Singapore 117590 b Biomedical Informatics, Vanderbilt University, Nashville, TN 37232-8340 c Memorial Herman Healthcare System, Houston, TX 77074 Research Papers article fla Copyright \u00a9 2008 Elsevier Inc. All rights reserved. AFRAMEBASEDREPRESENTATIONFORABEDSIDEVENTILATORWEANINGPROTOCOL SORENSON D 1 Introduction 2 Methods 3 Results 3.1 Frame-based approach 3.2 Testing and clinical implementation 4 Discussion 5 Conclusion Acknowledgment References MORRIS 2006 537 610 A VENTILATORINDUCEDLUNGINJURY IMPORTANCEPROTOCOLDIRECTEDPATIENTMANAGEMENTFORRESEARCHLUNGPROTECTIVEVENTILATION ELY 1996 1864 1869 E ESTEBAN 1995 345 350 A BROCHARD 1994 896 903 L THEACUTERESPIRATORYDISTRESSSYNDROMENETWORK 2000 1301 1308 MACINTYRE 2001 375S 396S N LELLOUCHE 2006 894 900 F ROSE 2007 213 221 L CARTER 2006 64 98 J CLINICALDECISIONSUPPORTSYSTEMSTHEORYPRACTICE DESIGNIMPLEMENTATIONISSUES GREENES 2006 3 29 R CLINICALDECISIONSUPPORTROADAHEAD DEFINITIONSSCOPECHALLENGES WARNER 1997 H KNOWLEDGEENGINEERINGINHEALTHINFORMATICS MINSKY 1975 M PSYCHOLOGYCOMPUTERVISION AFRAMEWORKFORREPRESENTINGKNOWLEDGE KULIKOWSKI 1985 38 48 C COMPUTERASSISTEDMEDICALDECISIONMAKING PROBLEMSINDESIGNKNOWLEDGEBASESFORMEDICALCONSULTATION MILLER 1989 947 951 R PACKER 1989 949 951 M WARNER 1988 371 376 H GIARRATANO 2004 J EXPERTSYSTEMSPRINCIPLESPROGRAMMING DAS 2006 175 179 A FRIEDMANHILL 2003 E JESSINACTIONJAVARULEBASEDSYSTEMS MORRIS 2002 A108 A MORRIS 2007 A793 A GIARRATANO 1994 J EXPERTSYSTEMSPRINCIPLESPROGRAMMING PRONOVOST 2002 2151 2162 P RUBENFELD 2004 1289 1293 G YOUNG 2004 1260 1265 M SORENSONX2008X461 SORENSONX2008X461X468 SORENSONX2008X461XD SORENSONX2008X461X468XD 2013-07-17T11:42:39Z OA-Window Full ElsevierBranded http://www.elsevier.com/open-access/userlicense/1.0/ item S1532-0464(08)00022-1 S1532046408000221 1-s2.0-S1532046408000221 10.1016/j.jbi.2008.02.002 272371 2010-11-08T20:52:24.431394-05:00 2008-06-01 2008-06-30 1-s2.0-S1532046408000221-main.pdf https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/MAIN/application/pdf/8b5a49c4eb7452167fdd75b6f377ee6a/main.pdf https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/MAIN/application/pdf/8b5a49c4eb7452167fdd75b6f377ee6a/main.pdf main.pdf pdf true 729157 MAIN 8 1-s2.0-S1532046408000221-main_1.png https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/PREVIEW/image/png/369ee03d28cebec52e86481cdf720153/main_1.png https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/PREVIEW/image/png/369ee03d28cebec52e86481cdf720153/main_1.png main_1.png png 64794 849 656 IMAGE-WEB-PDF 1 1-s2.0-S1532046408000221-gr1.jpg https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr1/DOWNSAMPLED/image/jpeg/e78af7bf59bcd39343546265444c48d0/gr1.jpg https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr1/DOWNSAMPLED/image/jpeg/e78af7bf59bcd39343546265444c48d0/gr1.jpg gr1 gr1.jpg jpg 72973 394 533 IMAGE-DOWNSAMPLED 1-s2.0-S1532046408000221-gr1.sml https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr1/THUMBNAIL/image/gif/609c31486ccf0bf4e3670801d940fd4a/gr1.sml https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr1/THUMBNAIL/image/gif/609c31486ccf0bf4e3670801d940fd4a/gr1.sml gr1 gr1.sml sml 5789 92 125 IMAGE-THUMBNAIL 1-s2.0-S1532046408000221-gr2.jpg https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr2/DOWNSAMPLED/image/jpeg/74fd085660f52f6752ede432a587fdbb/gr2.jpg https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr2/DOWNSAMPLED/image/jpeg/74fd085660f52f6752ede432a587fdbb/gr2.jpg gr2 gr2.jpg jpg 66453 646 622 IMAGE-DOWNSAMPLED 1-s2.0-S1532046408000221-gr2.sml https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr2/THUMBNAIL/image/gif/16762361d5300253bafda620ccc38d76/gr2.sml https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr2/THUMBNAIL/image/gif/16762361d5300253bafda620ccc38d76/gr2.sml gr2 gr2.sml sml 2521 94 90 IMAGE-THUMBNAIL 1-s2.0-S1532046408000221-gr3.jpg https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr3/DOWNSAMPLED/image/jpeg/ec82130c7f526fc2851e229b888fafb6/gr3.jpg https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr3/DOWNSAMPLED/image/jpeg/ec82130c7f526fc2851e229b888fafb6/gr3.jpg gr3 gr3.jpg jpg 49958 396 533 IMAGE-DOWNSAMPLED 1-s2.0-S1532046408000221-gr3.sml https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046408000221/gr3/THUMBNAIL/image/gif/89af609dcbc3dc2559ec2d3f95e6272f/gr3.sml https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1532046408000221/gr3/THUMBNAIL/image/gif/89af609dcbc3dc2559ec2d3f95e6272f/gr3.sml gr3 gr3.sml sml 3582 93 125 IMAGE-THUMBNAIL YJBIN 1421 S1532-0464(08)00022-1 10.1016/j.jbi.2008.02.002 Elsevier Inc. Fig. 1 Data entry form for the Mechanical Ventilation Clinical Decision Support Application. The respiratory therapist enters data into text fields and check boxes, and then clicks the \u201cEnter Data and Obtain Instructions\u201d button. One or more instructions appear. The user then accepts or declines each instruction and clicks the \u201cConfirm accept/decline\u201d button. Fig. 2 Flow diagram for PS (pressure support) ventilator weaning. If the frame for step 1 comes true, there are 4 possibilities with the next data entry. If the frame for step 3 comes true, the patient bypasses the PS mode, and is tested for 30min on unassisted breathing. If the RR (total respiratory rate) is >35, then the patient remains on assist/control until the following day. If the RR is between 26 and 35, the patient starts on PS of 20cm H2O. The PSt nodes are a titration, at 5min intervals, to determine what the appropriate PS level for the patient is to start at. If the patient\u2019s RR increases to >25, at any of the titration nodes, e.g., PSt 10, then the patient is maintained on PS 10 for >=2h (step 14). If the patient fails, then they go back to A/C (assist control mode) (step 20). If they do not fail, PS is reduced to 5 and the patient is maintained for >=2h (step 24). If they fail at PS=5, they go back to PS 10 (step 21). If they do not fail after 2h, they go to an unassisted breathing trial (step 11). Fig. 3 Hierarchical explanation of the decision to fail unassisted breathing (UAB) and return to pressure support mode. The \u201cMsg UAB fail and return to PS frame\u201d (which generates the explanation) contains the \u201cUAB fail and return to PS frame\u201d which contains the \u201cFail unassisted breathing trial\u201d frame. The abbreviated logic statement is directly below the title, followed by each of the items in that frame. The \u201c@\u201d indicates a subframe within a frame. Each item is preceded by its value. Note that the logic for \u201cFail unassisted breathing trial\u201d is abbreviated so that it only contains the elements relevant to the decision that was made. UAB, unassisted breathing; PS, pressure support; RR, total respiratory rate; SpO2, oxygen saturation; PaO2, arterial oxygen pressure; VT, set tidal volume; TMV, total minute volume; ventMode, ventilatory mode. \u2606 Funded in part by the NIH (# HHSN268200425210C), the Deseret Foundation, and Intermountain Health Care, Inc. A frame-based representation for a bedside ventilator weaning protocol D. Sorenson b \u204e dsorenson@hsc.utah.edu C.K. Grissom a L. Carpenter a A. Austin a K. Sward b L. Napoli a H.R. Warner b A.H. Morris a b for the Reengineering Clinical Research in Critical Care Investigators a Pulmonary and Critical Care Divisions, Departments of Medicine, LDS Hospital and University of Utah School of Medicine, UT, USA b Department of Biomedical Informatics, University of Utah, 5700 HSEB, Salt Lake City, UT 84132, USA \u204e Corresponding author. Abstract We describe the use of a frame-based knowledge representation to construct an adequately-explicit bedside clinical decision support application for ventilator weaning. The application consists of a data entry form, a knowledge base, an inference engine, and a patient database. The knowledge base contains database queries, a data dictionary, and decision frames. A frame consists of a title, a list of findings necessary to make a decision or carry out an action, and a logic or mathematical statement to determine its output. Frames for knowledge representation are advantageous because they can be created, visualized, and conceptualized as self-contained entities that correspond to accepted medical constructs. They facilitate knowledge engineering and provide understandable explanations of protocol outputs for clinicians. Our frames are elements of a hierarchical decision process. In addition to running diagnostic and therapeutic logic, frames can run database queries, make changes to the user interface, and modify computer variables. Keywords Decision making Knowledge management Decision support system Knowledge bases Knowledge representation (computer) Knowledge engineering Frame-based Mechanical ventilation Clinical care 1 Introduction Computerized protocols provide more assurance of standardization of medical decisions and provide a way to save electronic data on protocol performance and physician compliance for quality improvement activities or research. Adequately explicit computerized protocols (eProtocols) provide treatment instructions defined in precise patient-specific terms after input of patient clinical data (e.g., the fraction of inspired oxygen or mechanical ventilator pressure settings that are required at specific times for an individual patient). The primary proximate purpose of such protocols is to ensure replicable clinician decisions for equivalent patient states. This includes standardization of clinician decisions in clinical trials where blinding is not possible and cointerventions (non-experimental interventions) are unavoidable [1]. Our ultimate purpose is to facilitate the implementation and evaluation of replicable adaptive medical patient care protocols that can be applied with equal efficacy in a variety of intensive care units at different centers. Patients with acute lung injury (ALI) or the acute respiratory distress syndrome (ARDS) typically require days to weeks of mechanical ventilation for respiratory failure. As lung function improves these patients require a program for weaning, or liberation, from the mechanical ventilator. One approach involves daily assessments of respiratory parameters during spontaneous breathing trials. Patients are evaluated for removal of the endotracheal tube when spontaneous breathing is tolerated within certain parameters for some specified time [2,3]. Another approach to weaning is to gradually reduce the amount of pressure applied by the mechanical ventilator with each breath (pressure support weaning). The clinician weans the patient from mechanical ventilation and the endotracheal tube when specified minimum pressures are reached [4]. Paper protocols for ventilator weaning have been developed, but they differ regarding parameters, thresholds, and the sequence of the decision process. [4\u20136]. Recently, a randomized trial of a computerized closed-loop weaning application was reported [7] as well as a closed-loop commercial system [8]. An important aspect of our system is the open-loop characteristic which ensures clinician prerogative and oversite. Also, our ventilator protocol is in a form (i.e., a database table) which can be easily exported to other users. The National Institutes of Health (NIH), National Heart Lung and Blood Institute (NHLBI), acute respiratory distress syndrome (ARDS) network developed a mechanical ventilation protocol that includes pressure support weaning [5,9]. We describe a knowledge engineering process for creating an adequately-explicit bedside clinical decision support (CDS) application for the pressure support (PS) weaning portion of this protocol which facilitates the process of liberating a patient from mechanical ventilation support. This weaning protocol is an extension of the computerized ARDS Network ventilation and oxygenation protocols for maintenance of mechanical ventilation for patients with acute lung failure due to ALI and ARDS. A clinical decision support application contains a knowledge base (KB), an inference engine, a means of communicating results (instructions or actions), a user interface, and an associated patient database (DB) [10\u201312]. The KB is a collection of encoded knowledge needed to solve problems in some medical area. Inherent in the construction of the KB is an underlying decision model. The inference engine is a computer program that, given a case description (i.e., a patient state), uses the information in the KB to generate new information about the case (i.e., runs the decision logic). The KB used in this application is comprised of database queries, a data dictionary (that maps patient findings to items in frames), and frames (also called decision frames). The frame as data structure for knowledge representation concept was introduced by Marvin Minsky [13]. Many frame-based CDS applications have been developed over the past 25 years [14\u201318]. In addition to executing diagnostic and therapeutic logic [10] we also use frames to run DB queries, to make changes to the data entry form, to generate dialogs, and to control global variables (i.e., patient or user interface values maintained in memory when the application runs). 2 Methods Our frames consist of a title, a list of findings (primary data, results of database queries, and subframes) necessary to make a decision or carry out an action, and a logic or mathematical statement to determine the frame output. An important advantage of using frames for knowledge representation is that they can be created, visualized, and expressed in common medical terms and concepts (e.g., the patient: has an infection, has a need for mechanical ventilation, is ready for a weaning trial, etc.). This is an advantage when interacting with clinicians both for identification of their decision processes and for explanation of protocol outputs. Our frames are elements of a hierarchical decision process. Data elements for higher-level frames can include lower-level frame outputs in combination with primary findings. This means that each frame can contain other frames. This is in contradistinction to the more common, but less general, \u201cis_a\u201d relationship of subframes in higher level frames. Frames use a generic structure that can be processed by the inference engine regardless of their content. Frame outputs are saved in the patient\u2019s time-stamped database and may be accessed later as other frames are processed. The frame-based hierarchy also allows the interested user to follow the causal reasoning behind the instructions they are being asked to follow. Our inference engine is computer code with two general algorithms. The \u201clogic processor algorithm\u201d processes the logic of individual frames (i.e., calculates the value of the frames). The \u201cdecision tree processor algorithm\u201d passes information between frames (up the decision tree hierarchy) to come to a final conclusion (i.e., generate recommendations or actions). There is no limit on the number of times a frame can be used and there is no required order for the frames to be processed. Knowledge engineering (KE), in the current context, is the process of creating the KB. This involves extracting information from one or more experts in a clinical domain, and translating that knowledge to a computer representation [10,12]. The knowledge is represented as frames. When the bedside clinician enters patient data, the relevant frames are evaluated, and then linked dynamically in a decision hierarchy that ultimately displays patient-specific recommendations. The bedside clinician may decline any recommendation if they wish, but they are asked to enter a reason for declining. A number of software tools for KE development are available in the public domain and have been used for various Medical Informatics applications. For example, Clips is an example of an expert system shell [19], Prot\u00e9g\u00e9 is an application for representing knowledge and ontologies [20,21]; Jess is a rules engine [22]. We developed an application called FrameBuilder [23,24] that specifically generates frame-based knowledge and creates a running application with a user interface and rules engine. FrameBuilder is the culmination of an earlier stream of development that pre-dates the above-mentioned tools [17]. It is an integrated application, with a knowledge engineering environment, a rules engine, and a collection of editors which create a user interface (i.e., a running bedside application). The existing rules engines in the public domain, such as Jess and Drools [25] are not amenable to our frame-based knowledge without significant changes to the structure of the frames. We are currently developing a web-based version of our rules engine which we intend to make available in the public domain. We are also planning to build a translator for our frames to a representation that can be processed by rules engines such as Jess and Drools which use a Rete algorithm [26]. Changes to the computer protocol logic and/or interface can be tested immediately with simulated or real patient data, allowing rapid protocol refinement. A best-practice approach is taken to ensure accurate and complete data collection by error-checking data types and validating data ranges. The FrameBuilder is an integrated tool set that allows rapid visual prototyping, iterative refinement, and construction of an application with an intuitive user interface, all without requiring programming by the knowledge engineer. Our mechanical ventilation CDS application includes three support modes: assist control (AC), pressure support (PS), and unassisted breathing (UAB). In the AC mode, the ventilator provides a minimum number of breaths determined by the set ventilator rate (VR) at a predetermined volume for each breath (tidal volume). The mechanical ventilator applies pressure to inflate the lungs to the set tidal volume. The patient can initiate additional breaths above the set VR and the mechanical ventilator will deliver the predetermined tidal volume on those breaths also. The total ventilatory rate (RR) is VR plus the additional patient-initiated breaths. In addition, there is some positive pressure applied by the ventilator at the end of each expired breath, the positive end-expiratory pressure (PEEP). In the PS mode there is no set VR; the patient initiates each breath and the ventilator applies a predetermined pressure to inflate the lungs (20, 15, 10, or 5cm H2O above PEEP); the tidal volume is variable. This weaning protocol is based on the NIH/NHLBI ARDS Network weaning protocol. It contains the same logic used in the paper-based ARDS Network studies. The novel approach is a computerized rather than paper protocol. Computerization adds advantages of more efficient tracking of patient data and protocol recommendations, both for quality improvement and for research. Computerization presumably makes compliance with the protocol easier because recommendations are clear, detailed, and context-specific. To model this process, we created a flow diagram representing the weaning portion of the NIH mechanical ventilation protocol, with needed modifications and addition of detail. The knowledge base was then constructed by creating one or more frames for each arrow on the flow diagram using an interactive Frame Editor. A basic data entry form was created using a Form Editor. Meetings with a research group of respiratory therapists, nurses, and physicians further defined the design and functionality of the data entry form. Functionality was added by creating action frames associated with user controls. 3 Results 3.1 Frame-based approach We have created, tested, and are currently evaluating in a clinical setting the bedside computerized decision support protocol for oxygenation, mechanical ventilation, and weaning from mechanical ventilation. The bedside respiratory therapist enters data into text fields and check boxes, and then clicks the \u201cEnter Data and Obtain Instructions\u201d button (Fig. 1 ). All the current data are entered simultaneously. One or more instructions appear. (At our institution, we have created an optional interface that pulls most of the numeric data from the patient data repository.) The user then accepts or declines each instruction and clicks the \u201cConfirm accept/decline\u201d button. This may be followed by automatic changes to the data entry form; these include changed values of controls (i.e., text fields, check boxes, and radio buttons), controls turned yellow to indicate that they are required for the next data set, or controls that appear or disappear to simplify the data entry process. Fig. 2 displays a diagram of the flow of information during the weaning process. The \u201cInclusion\u201d box indicates that the patient has not been excluded from the protocol by any exclusion criteria. The criteria that the patient must fulfill in order to start the weaning procedure are listed in Frame #38 and corresponds to step 1 on the diagram. This includes the \u201cWeaning Criteria\u201d box and the \u201cRR>VR\u201d box on the diagram. \u201cRR>VR\u201d means that the patient\u2019s total respiratory rate (RR) must be greater than the rate set on the ventilator (VR). This indicates that the patient is able to initiate additional breaths on their own and confirms the presence of ventilatory drive. This is followed by step 2 in which the patient is evaluated for 5min to determine their respiratory rate while breathing spontaneously on continuous positive airway pressure (CPAP) of 5cm H2O and FiO2 of 0.5. CPAP is a mode where there is no added pressure delivered during inspiration to assist the patient\u2019s breathing, but rather the patient breathes spontaneously against a higher pressure. CPAP is therefore different than PS where the patient receives an extra pressure during inspiration to help inflate the lungs. The next step is determined by the patient response to breathing on CPAP and depends on the RR and whether the patient displays evidence of respiratory distress. There are 4 possible paths associated with 4 different frames. If the RR<25, the patient bypasses the PS mode and is tested for 30min with unassisted breathing (on CPAP of 5cm H2O). If the RR is >35, then the patient remains on assist/control until the following day. If the RR is between 26 and 35, the patient starts with PS of 20cm H2O. The PSt nodes are a titration, at 5-min intervals, to determine the appropriate beginning PS level. If the patient\u2019s RR increases to >25, at any of the titration nodes, e.g., PSt 10, then the patient is maintained on PS 10 for >=2h (step 14). If the patient fails, then they go back to AC (step 20). Failure is determined by a frame containing a list of items such as \u201cRespiratory distress\u201d (Fig. 3 ). If they do not fail, PS is reduced to 5 and the patient is maintained for >=2h (step 24). If they fail at PS=5, they go back to PS 10 (step 21). If they do not fail after 2h, they go to an unassisted breathing trial (step 11). Note that there are four types of frames shown in parentheses on the Title line. A boolean frames is a major decision. An action frame, for example, generates a change to the data entry form such as entering data into a field or changing the text of a message. A calculation frame performs a mathematical or date/time calculation. A message frame generates an instruction. Another important frame type, not shown, is a query frame (which retrieves the result of a database query). 38. TITLE: Enter weaning trial criteria (boolean) FINDINGS: a. @Weaning time criteria b. Fraction of inspired O2 c. PEEP d. Receiving neuromuscular blocking agent e. Current vasopressor support f. Systolic blood pressure g. Inspiratory efforts present h. Ventilatory mode i. VR j. Pulse oximetry O2 saturation k. Arterial O2 pressure l. RR LOGIC: (a=1) and (b<=0.4) and (c<=8) and (d=0) and (e=0) and (f >=90) and ((g=1) or (l>i)) and ((h=1) or (h=4)) and ((j>=88) or (k>=55)) Frame 38 is subsequently a component in message frame 39: 39. TITLE: Enter weaning trial criteria (message) FINDINGS: a. @Enter weaning trial criteria LOGIC: (a=1) Frame 39 generates an instruction to the respiratory therapist: \u201cEvaluate the patient with a CPAP 5cm H2O trial with FiO2 0.5 for <=5min. Enter the RR and specify the presence of anxiety\u201d (Fig. 1). When the respiratory therapist accepts the instruction, the PEEP and FiO2 fields on the data entry form are automatically changed by the action frame, i.e., the values 5 and 0.5 are inserted respectively: 40. TITLE: Enter weaning trial criteria replace data (action) FINDINGS: a. @Enter weaning trial criteria LOGIC: (a=1)\u29f9{PEEP}/5,{fio2}/0.5 The Weaning time criteria frame, referenced by frame 38 is 49. TITLE: Weaning time criteria (calculation) FINDINGS: a. gstartDT b. gcurrentDT LOGIC: (b>=#06:00#) and (b<=#10:00#) and (TIMEDIFH(a,b)>=12) This frame references two global variables: gcurrentDT is an intrinsic variable maintained by the application that holds the current date and time; gstartDT is specific to the patient. The value of gstartDT is set automatically when data are first entered for a given patient. This value must also be saved to the DB by an action frame when the user selects another patient or the application is closed. Each step on the flow diagram corresponds to a frame with a similar structure to those above. The user can visualize the logic for a given instruction via an option on the \u201cExplanation\u201d menu (Fig. 1). There are three options: (1) a flow diagram similar to Fig. 2; (2) the ability to \u201cdrill down\u201d from a high-level frame to each of the component frames; (3) a hierarchical view of all the relevant frames and findings (Fig. 3). Note that the logic for \u201cFail unassisted breathing trial\u201d in Fig. 3 is modified so that it only contains the elements relevant to the decision that was made. 3.2 Testing and clinical implementation As part of the validation of the computerized protocol with that of the paper-based, we initially wrote a batch-processing algorithm that generated recommendations for every possible combination of variable values from the computerized ARDS Network ventilation and oxygenation protocols for maintenance of mechanical ventilation. These protocols were amenable to threshold batch testing because their logic could be displayed in table format. For the computerized oxygenation protocol these threshold values included PEEP levels of 5, 8, 10, 12, 14, 16, 18, 20, 22, and 24; and FiO2 levels of 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, and 1.0; PaO2 ranges of <50, 50\u201354, 55\u201361, 62\u201368, and >=69cm H2O; SpO2 ranges of <85, 85\u201388, 88\u201390, 91\u201393, and >=94%. For the computerized ventilation protocol, these included pH >7.45, 7.30\u20137.45, 7.15\u20137.29, and <7.15; VR<35 and >=35 BPM; VT >6 to <=8, 6, and >=4 to <=6mL/kg; Pplat <25, 25\u201330, and >30cm H2O. There were a total of more than 2000 recommendations generated. All of the recommendations were iteratively reviewed by a physician and respiratory therapist familiar with the ARDS Net protocol (CG and LC). The testing and clinical implementation of the weaning protocol was more complicated because of the multiple steps in the protocol, each with multiple options depending on the patient response. We therefore used the clinical environment for testing of the weaning protocol. So far, the application has been successfully used with eight patients. 178 instructions were generated by the system and 80% of these were accepted by the clinicians. Reasons for declining recommendations included invalid or missing data, physician decision, ambiguous wording in the instruction, patient sleeping, patient being bathed, patient just received medication, patient too agitated at the moment, patient doing fine on current settings, etc. The recommendation with ambiguous wording was fixed. The other declines are probably unavoidable, other than to allow more latitude in the time interval between recommendations. The computerized weaning protocol has been successfully integrated into the clinical environment with physician involvement and oversight. It should be made clear that the physician does not need to review every single protocol instruction, rather that is done by the respiratory therapist who then makes adjustments on the ventilator. If the respiratory therapist has questions then they contact the physician by phone, pager, or in person. Our ICU has 24h in hospital coverage by a critical care physician, which makes the physician available to answer questions about computerized protocol recommendations. It is not unique to have readily available critical care physicians to respond to patient issues given the mounting evidence of improved patient outcomes when critical care physicians are in house or easily available [27]. We have also found it helpful to have the respiratory therapist participate in morning patient rounds where ventilator management is discussed, including protocol issues. Lastly the weaning protocol requires a physician order to be initiated and a patient is never extubated without a physician order. The manner of data input into the computerized ventilator protocol is an important issue for respiratory therapists. When we started testing the computerized ventilator protocol, data input essentially required double charting on the part of the respiratory therapists. This was labor intensive and we recognized that it created an extra burden for the respiratory therapists, but engaging in clinical research is part of the culture in our ICU and is accepted as a responsibility by all levels of medical staff including nurses, respiratory therapists, and physicians. As we were able to extract most significant data from the clinical computer system which decreased the data entry required by the respiratory therapists. There is still additional data entry that is required to run the computerized ventilator protocol, but again, running protocols and protocol refinement are part of our ICU culture. The electronic storage of protocol iterations also serves as part of the medical record. Our ICU staff accept that some data entry into computerized protocols is necessary, but the benefits include greater compliance with standardized patient care regimens that improve outcome, more precise documentation of patient care in the medical record, and an electronic database of protocol iterations that can be used as a reference for nurses, respiratory therapists, or physicians to recommend improvements to the protocol. 4 Discussion Being able to modify the user interface with action frames was important for user satisfaction and helped ensure accurate and complete data capture. Important context-specific changes included: (1) changing the background color of controls to indicate required data; (2) making irrelevant controls disappear; (3) alerts for non-numeric data; (4) alerts for numbers entered outside of valid physiological range; and (5) automatically changing data in appropriate data fields when recommendations were accepted. We rely heavily on comments from users of the protocol (respiratory therapists and physicians) for refinement of the protocol. We refine the protocol until the critical comments from the respiratory therapists cease. The difference between this computerized ventilator protocol and previous published reports of computerized protocols is that this protocol was shown in a large randomized clinical trial to decrease mortality in patients with ARDS (the NIH ARDS Network 6ml/kg lung protective ventilation protocol) [5]. Despite the evidence of improved outcome using this lung protective ventilator protocol, physicians are not good at actually implementing the ARDS Network ventilator and weaning protocol [28,29]. The goal of a computerized lung protective ventilator and weaning protocol is to increase physician compliance with a mechanical ventilation strategy that improves survival. Therefore, if we can develop a computerized protocol from the NIH ARDS Network lung protective ventilation and weaning paper protocol, and we can demonstrate that compliance with the protocol is high, we will have implemented a decision support tool that decreases mortality in patients with ALI and ARDS. Evaluations with test patients and real patients in a research setting have guided changes to the KB and user interface. The KB has been stable for several months with changes restricted to those necessary to facilitate requested changes to the user interface (such as helpful information or dialogs requesting the respiratory therapist to get a new arterial blood specimen for blood gas analysis). Date and time issues are challenging areas of KE for clinical applications. Weaning or liberating a patient from mechanical ventilation (resumption of spontaneous, unassisted breathing) is one section of our mechanical ventilation protocol with challenging date and time issues. For example, in order for a patient to start the weaning process he/she must satisfy the following temporal requirements: (1) The patient must have been supported with the ventilation protocol for >=12h. (2) The current time must be between 06:00 and 10:00h (this can be overridden for special circumstances). (3) The user must wait at least 5min between data sets except during an inspiratory efforts test or a CPAP trial. (4) Once PS is started, the user should enter data within 20min. (5) Subsequent PS changes should be made after 90min but within 3h. (6) The patient should not be weaned and transferred to unassisted breathing after 19:00h. The current application is able to handle these requirements by storing times in user-defined patient-specific global variables. The ability to reference global variables in frames provides the knowledge engineer with a level of control that can avoid having to change computer code. While this strategy works, it has disadvantages. These global variables must be maintained and appropriately modified when the user changes patients, quits the application, changes ventilator mode, or corrects errors. Other options are to store the data on the form in hidden controls or to write application-specific code to save it in the DB. The \u201cWeaning time criteria\u201d frame, described in the Results section, uses two global variables: gcurrentDT and gstartDT. The first is global to the application and simply reflects the current date and time. The second is patient-specific, representing the date and time when the patient started on the ventilator protocol; that variable is global in the sense that it stays in memory as long as Data Entry Form is open. This makes it available for display on the form and dialogs generated by user interaction without going to the database. This is not necessary for a desktop application with a local database, but becomes more relevant for a web-based application or application integrated with a hospital database. We employ frame outputs as intermediate level decisions (molecules). We build higher level frames by combining these molecules with other direct observations (atoms). This has proven to be a good match to the decision-making model used by our clinicians. We can generate sound explanatory displays from the hierarchical structure of our frames. We will develop textual English language explanations in the future. The FrameBuilder provided an effective development environment for this project, but it is currently limited to a single data entry form and a computer with a Microsoft Windows operating system. A similar application could have been created by a combination of other available software tools with some additional programming. Alternatively, the DB with the patient data and the KB, could be used by a different user interface and rules engine. 5 Conclusion The frame-based approach is well adapted for complex, but well-defined, clinical applications such as mechanical ventilation and weaning. It facilitates the mapping (KE) of clinical decision logic to computer-executable form, i.e., the knowledge engineering process. The frame model also facilitates the explanation of the basis for a given computerized protocol recommendation by allowing the bedside clinician to drill down through the frame hierarchy to see the specific values and logic that led to the decision in question. The capability of FrameBuilder to create forms for data entry that dynamically adapt to the specific requirements of the protocol has simplified the use of the computerized protocol for the bedside clinician. Acknowledgment We are indebted to our many RN and MD clinician colleagues who enabled the completion of this work. References [1] A. Morris The importance of protocol-directed patient management for research on lung-protective ventilation D. Dereyfuss G. Saumon R. Hubamyr Ventilator-induced lung injury 2006 Taylor & Francis Group New York 537 610 [2] E. Ely A. Baker D. Dunagan H. Burke A. Smith P. Kelly Effect on the duration of mechanical ventilation of identifying patients capable of breathing spontaneously N Engl J Med 335 2 1996 1864 1869 [3] A. Esteban F. Frutos M.J. Tobin I. Alia J.F. Solsona I. Valverdu A comparison of four methods of weaning patients from mechanical ventilation. Spanish Lung Failure Collaborative Group [see comments] N Engl J Med. 332 6 1995 345 350 [4] L. Brochard A. Rauss S. Benito G. Conti J. Mancebo N. Rekik Comparison of three methods of gradual withdrawal from ventilatory support during weaning from mechanical ventilation [see comments] Am J Respir Crit Care Med 150 4 1994 896 903 [5] The Acute Respiratory Distress Syndrome Network Ventilation with lower tidal volumes as compared with traditional tidal volumes for acute lung injury and the acute respiratory distress syndrome New Engl J Med 342 18 2000 1301 1308 [6] N.R. MacIntyre Evidence-based guidelines for weaning and discontinuing ventilatory support: a collective task force facilitated by the American College of Chest Physicians; the American Association for Respiratory Care; and the American College of Critical Care Medicine Chest 120 90060 2001 375S 396S [7] F. Lellouche J. Manecebo P. Jolliet J. Roeseler F. Schortgen M. Dojat A multicenter randomized trial of computer-driven protocolized weaning from mechanical ventilation Am J Respir Crit Care Med 174 2006 894 900 [8] L. Rose J.J. Presneill J.F. Cade Update in computer\u2014driven weaning from mechanical ventilation Anaesth Intensive Care 35 2 2007 213 221 [9] The Acute Respiratory Distress Syndrome Network. Mechanical ventilation protocol (complete). World wide Web: www.ardsnet.org or NAPS Document No. 05542 (Microfiche Publications, 248 Hempstead Turnpike, West Hempstead, New York 11552). 2000. [10] J. Carter Design and implementation issues E. Berner Clinical decision support systems: theory and practice 2006 Springer Science+Business Media New York 64 98 [11] R. Greenes Definitions, scope, and challenges R. Greenes Clinical decision support: the road ahead 2006 Academic Press New York 3 29 [12] H. Warner D. Sorenson O. Bouhaddou Knowledge engineering in health informatics 1997 Springer-Verlag New York [13] M. Minsky A framework for representing knowledge P. Winston The psychology of computer vision 1975 McGraw-Hill [14] C. Kulikowski Problems in the design of knowledge bases for medical consultation J. Reggia S. Tuhrim Computer-assisted medical decision making 1985 Springer-Verlag New York 38 48 [15] R. Miller F. Masarie Quick medical reference (QMR): an evolving, microcomputer-based diagnostic decision-support program for general internal medicine Proc Symp Comput Appl Med Care 13 1989 947 951 [16] M. Packer E. Hoffer G. Barnett K. Famiglietti R. Kim J. McLatchey Evolution of DXplain: a decision support system Proc Symp Comput Appl Med Care 13 1989 949 951 [17] H.R. Warner P.J. Haug O. Bouhaddou M.J. Lincoln H.R. Warner Jr D.K. Sorenson ILIAD as an expert consultant to teach differential diagnosis Proc Symp Comput Appl Med Care 12 1988 371 376 [18] Aikins JS. Prototypes and production rules: an approach to knowledge representation for hypothesis formation. In: Proceedings of the sixth international joint conference on artificial intelligence, Tokyo, Japan; 1979. [19] J. Giarratano G. Riley Expert systems: principles and programming 2004 Course Technology Boston [20] A. Das B. Ahmed Y. Garten J. Robin M. Goldstein Knowledge-based method for building patient decision-analytic tools AMIA Annu Symp Proc 2006 175 179 [21] Prot\u00e9g\u00e9. Prot\u00e9g\u00e9. 2006 [cited; Available from: http://protege.stanford.edu]. [22] E. Friedman-Hill Jess in action: Java rule-based systems 2003 Manning Publications Greenwich [23] A. Morris D. Sorenson J. Orme T. Clemmer L. Weaver C. Grissom A frame-based tool set for computerized protocols Am J Respir Crit Care Med 165 8 2002 A108 [ATS Proceedings Abstracts] [24] A.H. Morris D. Sorenson K. Sward J. Orme T. Clemmer C. Grissom A software tool to develop computerized bedside clinical protocols Am J Respir Crit Care Med 170 2007 A793 [ATS Proceedings Abstracts] [25] Rupp NA. The logic of the bottom line: an introduction to the Drools project. May 2004. Available from: http://www.theserverside.com/tt/articles/article.tss?l=Drools. [26] J. Giarratano G.D. Riley Expert systems: principles and programming 1994 PWS Programming Boston [27] P.J. Pronovost D.C. Angus T. Dorman K.A. Robinson T.T. Dremsizov T.L. Young Physician staffing patterns and clinical outcomes in critically ill patients: a systematic review JAMA 288 2002 2151 2162 [28] G.D. Rubenfeld C. Cooper G. Carter T. Thompson L.D. Hudson Barriers to providing lung-protective ventilation to patients with acute lung injury Crit Care Med 32 6 2004 1289 1293 [29] M.P. Young H.L. Manning D.L. Wilson S.A. Mette R.R. Riker J.C. Leiter Ventilation of patients with acute lung injury and acute respiratory distress syndrome: has new evidence changed clinical practice? Crit Care Med 32 6 2004 1260 1265", "scopus-id": "44449179949", "pubmed-id": "18358789", "coredata": {"eid": "1-s2.0-S1532046408000221", "dc:description": "Abstract We describe the use of a frame-based knowledge representation to construct an adequately-explicit bedside clinical decision support application for ventilator weaning. The application consists of a data entry form, a knowledge base, an inference engine, and a patient database. The knowledge base contains database queries, a data dictionary, and decision frames. A frame consists of a title, a list of findings necessary to make a decision or carry out an action, and a logic or mathematical statement to determine its output. Frames for knowledge representation are advantageous because they can be created, visualized, and conceptualized as self-contained entities that correspond to accepted medical constructs. They facilitate knowledge engineering and provide understandable explanations of protocol outputs for clinicians. Our frames are elements of a hierarchical decision process. In addition to running diagnostic and therapeutic logic, frames can run database queries, make changes to the user interface, and modify computer variables.", "openArchiveArticle": "true", "prism:coverDate": "2008-06-30", "openaccessUserLicense": "http://www.elsevier.com/open-access/userlicense/1.0/", "prism:aggregationType": "Journal", "prism:url": "https://api.elsevier.com/content/article/pii/S1532046408000221", "dc:creator": [{"@_fa": "true", "$": "Sorenson, D."}, {"@_fa": "true", "$": "Grissom, C.K."}, {"@_fa": "true", "$": "Carpenter, L."}, {"@_fa": "true", "$": "Austin, A."}, {"@_fa": "true", "$": "Sward, K."}, {"@_fa": "true", "$": "Napoli, L."}, {"@_fa": "true", "$": "Warner, H.R."}, {"@_fa": "true", "$": "Morris, A.H."}], "link": [{"@_fa": "true", "@rel": "self", "@href": "https://api.elsevier.com/content/article/pii/S1532046408000221"}, {"@_fa": "true", "@rel": "scidir", "@href": "https://www.sciencedirect.com/science/article/pii/S1532046408000221"}], "dc:format": "application/json", "openaccessType": "Full", "pii": "S1532-0464(08)00022-1", "prism:volume": "41", "prism:publisher": "Elsevier Inc.", "dc:title": "A frame-based representation for a bedside ventilator weaning protocol", "prism:copyright": "Copyright \u00a9 2008 Elsevier Inc. All rights reserved.", "prism:issueName": "Computerized Decision Support for Critical and Emergency Care", "openaccess": "1", "prism:issn": "15320464", "prism:issueIdentifier": "3", "dcterms:subject": [{"@_fa": "true", "$": "Decision making"}, {"@_fa": "true", "$": "Knowledge management"}, {"@_fa": "true", "$": "Decision support system"}, {"@_fa": "true", "$": "Knowledge bases"}, {"@_fa": "true", "$": "Knowledge representation (computer)"}, {"@_fa": "true", "$": "Knowledge engineering"}, {"@_fa": "true", "$": "Frame-based"}, {"@_fa": "true", "$": "Mechanical ventilation"}, {"@_fa": "true", "$": "Clinical care"}], "openaccessArticle": "true", "prism:publicationName": "Journal of Biomedical Informatics", "prism:number": "3", "openaccessSponsorType": "ElsevierBranded", "prism:pageRange": "461-468", "prism:endingPage": "468", "prism:coverDisplayDate": "June 2008", "prism:doi": "10.1016/j.jbi.2008.02.002", "prism:startingPage": "461", "dc:identifier": "doi:10.1016/j.jbi.2008.02.002", "openaccessSponsorName": null}, "objects": {"object": [{"@category": "standard", "@height": "394", "@width": "533", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr1.jpg?httpAccept=%2A%2F%2A", "@multimediatype": "JPEG image file", "@type": "IMAGE-DOWNSAMPLED", "@size": "72973", "@ref": "gr1", "@mimetype": "image/jpeg"}, {"@category": "thumbnail", "@height": "92", "@width": "125", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr1.sml?httpAccept=%2A%2F%2A", "@multimediatype": "GIF image file", "@type": "IMAGE-THUMBNAIL", "@size": "5789", "@ref": "gr1", "@mimetype": "image/gif"}, {"@category": "standard", "@height": "646", "@width": "622", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr2.jpg?httpAccept=%2A%2F%2A", "@multimediatype": "JPEG image file", "@type": "IMAGE-DOWNSAMPLED", "@size": "66453", "@ref": "gr2", "@mimetype": "image/jpeg"}, {"@category": "thumbnail", "@height": "94", "@width": "90", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr2.sml?httpAccept=%2A%2F%2A", "@multimediatype": "GIF image file", "@type": "IMAGE-THUMBNAIL", "@size": "2521", "@ref": "gr2", "@mimetype": "image/gif"}, {"@category": "standard", "@height": "396", "@width": "533", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr3.jpg?httpAccept=%2A%2F%2A", "@multimediatype": "JPEG image file", "@type": "IMAGE-DOWNSAMPLED", "@size": "49958", "@ref": "gr3", "@mimetype": "image/jpeg"}, {"@category": "thumbnail", "@height": "93", "@width": "125", "@_fa": "true", "$": "https://api.elsevier.com/content/object/eid/1-s2.0-S1532046408000221-gr3.sml?httpAccept=%2A%2F%2A", "@multimediatype": "GIF image file", "@type": "IMAGE-THUMBNAIL", "@size": "3582", "@ref": "gr3", "@mimetype": "image/gif"}]}, "link": {"@rel": "abstract", "@href": "https://api.elsevier.com/content/abstract/scopus_id/44449179949"}}